<script>

/* ---------- PAGE NAVIGATION ---------- */
function yes(){
  go(1);
}

function go(n){
  document.getElementById("p"+n).classList.remove("active");
  document.getElementById("p"+(n+1)).classList.add("active");
}


/* ---------- RUNNING NO BUTTON ---------- */
const noBtn = document.getElementById("noBtn");

if(noBtn){
  noBtn.addEventListener("mouseenter", moveNo);
  noBtn.addEventListener("click", moveNo);
}

function moveNo(){
  const x = Math.random()*200 - 100;
  const y = Math.random()*150 - 75;
  noBtn.style.transform = `translate(${x}px,${y}px)`;
}


/* ---------- MUSIC START ON FIRST TAP ---------- */
const music = document.getElementById("bgMusic");
let musicStarted = false;

function startMusic(){
  if(musicStarted) return;

  musicStarted = true;
  music.currentTime = 0;

  const playPromise = music.play();

  if(playPromise !== undefined){
    playPromise.catch(()=>{});
  }

  // remove listeners after first interaction
  document.removeEventListener("click", startMusic);
  document.removeEventListener("touchstart", startMusic);
  document.removeEventListener("keydown", startMusic);
}

/* first interaction triggers music */
document.addEventListener("click", startMusic);
document.addEventListener("touchstart", startMusic);
document.addEventListener("keydown", startMusic);

</script>
script>

/* music */
const music=document.getElementById("bgMusic");
let started=false;

function startMusic(){
  if(!started){
    music.currentTime=0;
    music.play().catch(()=>{});
    started=true;
  }
}

/* YES button */
function yes(){
  startMusic();   // <-- mobile browsers allow sound here
  go(1);
}

/* navigation */
function go(n){
  document.getElementById("p"+n).classList.remove("active");
  document.getElementById("p"+(n+1)).classList.add("active");
}

/* running NO button */
const noBtn=document.getElementById("noBtn");
noBtn.addEventListener("mouseenter",()=>{
  const x=Math.random()*200-100;
  const y=Math.random()*150-75;
  noBtn.style.transform=`translate(${x}px,${y}px)`;
});

</script>
